<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="theme-color" content="#000000" />
		<meta
			name="description"
			content="Команда квалифицированных разработчиков"
		/>
		<link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />

		<link rel="manifest" href="%PUBLIC_URL%/manifest.json" />

		<link
			href="https://fonts.googleapis.com/css?family=Nunito"
			rel="stylesheet"
		/>
		<title>ITD Company</title>
	</head>
	<body class="page page_fix">
		<!-- Yandex.Metrika counter -->
		<script type="text/javascript">
			;(function (m, e, t, r, i, k, a) {
				m[i] =
					m[i] ||
					function () {
						;(m[i].a = m[i].a || []).push(arguments)
					}
				m[i].l = 1 * new Date()
				;(k = e.createElement(t)),
					(a = e.getElementsByTagName(t)[0]),
					(k.async = 1),
					(k.src = r),
					a.parentNode.insertBefore(k, a)
			})(
				window,
				document,
				"script",
				"https://mc.yandex.ru/metrika/tag.js",
				"ym",
			)

			ym(65126242, "init", {
				clickmap: true,
				trackLinks: true,
				accurateTrackBounce: true,
				ecommerce: "dataLayer",
			})
		</script>
		<noscript
			><div>
				<img
					src="https://mc.yandex.ru/watch/65126242"
					style="position: absolute; left: -9999px"
					alt=""
				/></div
		></noscript>
		<!-- /Yandex.Metrika counter -->
		<div id="root"></div>

		<script>
			const isProduction = "%NODE_ENV%" === "production"
			if (isProduction && "serviceWorker" in navigator) {
				window.addEventListener("load", () => {
					navigator.serviceWorker.register("sw.js").then(() => {
						const channel = new BroadcastChannel("service-worker-channel")
						channel.onmessage = (message) => {
							if (message.data.promptToReload) {
								channel.postMessage({ skipWaiting: true })
							}
						}
					})
				})
			}
			let defenderPrompt
			const installApp = () => {
				defenderPrompt.prompt()
				defenderPrompt.userChoice.then((choice) => {
					if (choice.outcome === "accepted") {
						//alert('Приложение установлено')
						console.log("Приложение установленно")
					} else {
						console.log("Не удается установить приложение")
					}
					defenderPrompt = null
				})
			}
			window.addEventListener("beforeinstallprompt", (e) => {
				e.preventDefault()
				console.log("platform", e)
				defenderPrompt = e
				const install = document.querySelector(".downloadBtn")
				install.addEventListener("click", (d) => {
					d.preventDefault()
					installApp()
				})
			})
		</script>
		<script src="google-translate.js"></script>
		<script src="//translate.google.com/translate_a/element.js?cb=TranslateInit"></script>
	</body>
</html>
